% cv_style.tex
% Comandi e stili per il CV

\usepackage[a4paper, margin=1cm, top=0.8cm, bottom=0.8cm, hmarginratio=1:1]{geometry}

\usepackage{fontspec}
\setmainfont{Lato} % Un font moderno e leggibile

\usepackage{xcolor}
\usepackage{fontawesome5}
\usepackage{simpleicons} % Aggiunto per le icone tech
\usepackage{hyperref}
\usepackage{tabularx}
\usepackage{enumitem}
\usepackage{graphicx}
\usepackage{titlesec}
\usepackage{multicol}

% Importazione dei colori
\input{cv_colors.tex}
\input{tech_brand_colors.tex} % Aggiunto per i colori dei brand

% Impostazioni globali
\pagestyle{empty}
\setlist{leftmargin=*, label=, noitemsep}
\hypersetup{
    colorlinks=true,
    urlcolor=accentColor,
    linkcolor=accentColor,
}
\AtBeginDocument{
    \fontsize{11pt}{13.2pt}\selectfont
}

% ----- SISTEMA DI SPAZIATURE MODULARI -----
% Unità base: 4pt, tutte le spaziature sono multipli di questa unità
\newlength{\baseunit}
\setlength{\baseunit}{4pt}

% ----- COMANDI PER LA STRUTTURA -----

% Titolo di sezione
\titleformat{\section}
  {\fontsize{14pt}{16.8pt}\selectfont\bfseries\color{primaryColor}}
  {}
  {0em}
  {}[\titlerule]
\titlespacing*{\section}{0pt}{6\baseunit}{3\baseunit}

% Header con nome e titolo
\newcommand{\cvheader}[2]{
    \begin{center}
        {\huge\bfseries\color{primaryColor} #1}\\[2\baseunit]
        {\large\color{secondaryColor} #2}
    \end{center}
    \vspace{5\baseunit}
}

% Intestazione spostata a sinistra (non centrata)
\newcommand{\leftheader}[2]{
    \noindent\hspace{2.5cm}
    {\fontsize{20pt}{24pt}\selectfont\bfseries\color{primaryColor} #1}
    
    \noindent\hspace{2.5cm}
    {\fontsize{16pt}{19.2pt}\selectfont\color{secondaryColor} #2}
    
    \vspace{4\baseunit}
}

% Layout a due colonne con proporzioni personalizzate
\def\cvstartleftcolumn{%
    \hspace*{0.025\textwidth}
    \begin{minipage}[t]{0.52\textwidth}
    \raggedright
    \vspace{0pt}
}

\def\cvrightcolumn{%
    \end{minipage}%
    \hspace{0.085\textwidth}%
    \begin{minipage}[t]{0.365\textwidth}
    \raggedright
}

\def\cvendcolumns{%
    \end{minipage}%
    \hspace*{0.005\textwidth}
}

% Comando per la foto del profilo
\newcommand{\profilephoto}[1]{
    \vspace{-6\baseunit}
    \includegraphics[width=\textwidth, clip, trim=0 130 0 130]{#1}
    \vspace{2\baseunit}
}

% Contatto nella sidebar
\newcommand{\contactitem}[2]{%
    \textcolor{primaryColor}{\faIcon{#1}}\hspace{3pt}%
    \href{#2}{\textcolor{secondaryColor}{\mbox{\hyphenchar\font=\defaulthyphenchar#2}}}%
}
\newcommand{\contactitemtext}[2]{%
    \textcolor{primaryColor}{\faIcon{#1}}\hspace{3pt}%
    \textcolor{secondaryColor}{#2}%
}
\newcommand{\contactitemlabel}[3]{%
    \textcolor{primaryColor}{\faIcon{#1}}\hspace{3pt}%
    \href{#2}{\textcolor{secondaryColor}{\mbox{#3}}}%
}

% Sezione della sidebar
\newcommand{\sidebarsection}[1]{
    \vspace{6\baseunit}
    {\fontsize{13.5pt}{16.2pt}\selectfont\bfseries\color{primaryColor} #1}
    \rule[0.5ex]{\linewidth}{0.5pt}
    \vspace{3\baseunit}
}

% Categoria di skill
\newcommand{\skillcategory}[1]{
    \vspace{2\baseunit}
    {\bfseries\color{secondaryColor} #1}
}

% Comando per le skill con icona
\newcommand{\techskill}[3]{
    \textcolor{#2}{\simpleicon{#1}}\hspace{3pt}#3
}

% Voce di esperienza lavorativa
\newcommand{\cventry}[4]{
    \vspace{3\baseunit}
    \textbf{\fontsize{13pt}{15.6pt}\selectfont\color{secondaryColor} #1} \hfill \textit{\color{darkGray} #2} \\
    \textbf{\color{accentColor} #3} \\[1\baseunit]
    \begin{itemize}
        \setlength{\itemsep}{2\baseunit}
        #4
    \end{itemize}
    \vspace{2\baseunit}
}

% Voce di progetto
\newcommand{\cvproject}[3]{
    \vspace{3\baseunit}
    \textbf{\fontsize{13pt}{15.6pt}\selectfont\color{secondaryColor} #1} \\
    \textit{\small\color{darkGray} #2} \\[1\baseunit]
    \begin{itemize}
        \setlength{\itemsep}{2\baseunit}
        #3
    \end{itemize}
    \vspace{2\baseunit}
}

% Voce per formazione
\newcommand{\educationentry}[4]{
    \vspace{3\baseunit}
    \textbf{\fontsize{13pt}{15.6pt}\selectfont\color{secondaryColor} #1} \\
    \textit{\color{darkGray} #2} \\[1\baseunit]
    \textit{\fontsize{10pt}{12pt}\selectfont #3}
    \vspace{2\baseunit}
}
